import os, sys

try:
    import bldutil
    glob_build = True # scons command launched in RSFSRC
    srcroot = '../..' # cwd is RSFSRC/build/user/ivlad
    Import('env bindir pkgdir')
except:
    glob_build = False # scons command launched in the local directory
    srcroot = os.environ.get('RSFSRC', '../..')
    sys.path.append(os.path.join(srcroot,'framework'))
    import bldutil
    env = bldutil.Debug() # Debugging flags for compilers
    bindir = pkgdir = None
    
targets = bldutil.UserSconsTargets()

# C mains
targets.c = '''
quantile leftsize filedims fileflush create gettype lmo
'''

# F90 mains
targets.f90 = '''
seekwin
'''

# Python mains that do not need SWIG+numpy
targets.py = '''
pclip prep4plot wiki2static invalid split zcp touch rmrf csv2rsf wuab ximage
'''

# Python modules that do not need SWIG+numpy
targets.py_modules = '''
ivlad m8rex ooio sf
'''

targets.build_all(env, glob_build, srcroot, bindir, pkgdir)
