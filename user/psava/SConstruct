import os, sys

try:
    import bldutil
    glob_build = True # scons command launched in RSFSRC
    srcroot = '../..' # cwd is RSFSRC/build/user/psava
    Import('env bindir libdir pkgdir')
except:
    glob_build = False # scons command launched in the local directory
    srcroot = os.environ.get('RSFSRC', '../..')
    sys.path.append(os.path.join(srcroot,'framework'))
    import bldutil
    env = bldutil.Debug() # Debugging flags for compilers
    bindir = libdir = pkgdir = None

targets = bldutil.UserSconsTargets()

# C mains
targets.c = '''
off2abs off2abs3
icor xcor2d tcor ucor cic2d eic2d
laps2d laps3d
ic sic sic3d lstk
wigner wdf
srmig3 srmod3 zomig3 camig3 
stack3
hwt3d int3d rrt3d
shift fft3d
randcut
encode shot2grid
boxfilter
lwefd
awefd2d awefd3d ewefd2d ewefd3d
hdefd
emfdm2d
hic2ang
zowei wei weigwf weiajs weiajw
ttifd2d ttifd3d
srbin3d
'''

# paradd
# anifd2d
# awefd

targets.build_all(env, glob_build, srcroot, bindir, libdir, pkgdir)
