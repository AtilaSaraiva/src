src = "alloc c99 decart error file files getpar math1 pfafft segy simtab stack"

sources = map(lambda x: x+'.c',Split(src)) 
includes = map(lambda x: x+'.h',Split(src))

env = Environment(CCFLAGS='-std=gnu9x -Wall -pedantic -g')

lib = env.StaticLibrary('librsf',sources)
env.Command('rsf.h',includes,"cat $SOURCES > $TARGET")

for file in ('file','getpar','simtab'):
    test = 'Test' + file + '.c'
    env.Program([test,lib],PROGSUFFIX='.x')

