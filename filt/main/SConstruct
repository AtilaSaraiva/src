progs = """
add attr cat cmplx cp dd disfil get headermath headersort
imag in interleave log mask math merge mv pad real reverse rm 
rtoc scale segyread segywrite spike spray stack transp window
"""

env = Environment(CCFLAGS='-std=gnu9x -Wall -pedantic -g',
                  CPPPATH='../rsf',
                  LIBPATH='../rsf',
                  LIBS=['rsf','m'],
                  PROGPREFIX='sf')

bindir = '../../bin'

mains = Split(progs)
map(lambda prog: env.Program(prog + '.c'),mains)

env.Install(bindir,map(lambda prog: 'sf' + prog,mains))
Default(bindir)

try:
    Import('env')
    
    docs = map(lambda prog: env.Doc(prog),mains)
    env.Command('RSFdoc',docs,"cat $SOURCES > $TARGET")
except:
    pass
    

