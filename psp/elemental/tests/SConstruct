import sys

sys.path.append('../../../framework')
import bldutil

env = bldutil.Debug()

SConscript('../src/SConstruct')

progs = '''
GaussianElimination
Identity
'''

MPICXX = WhereIs('mpicxx')

env.Prepend(CPPPATH=['../include'],
            LIBPATH=['../../../lib'],
            LIBS=['elemental','lapack'])

mains = Split(progs)
for prog in mains:
    prog = env.Program(prog,prog+'.cpp',CXX=MPICXX,
                       CPPDEFINES=['RELEASE','BLAS_POST','LAPACK_POST','WITHOUT_PMRRR',
                                   ('RESTRICT','')]) # try __restrict__ if it works
