import sys

sys.path.append('../../../framework')
import bldutil

env = bldutil.Debug()

sources = Glob('[A-Za-z]*.cpp')

MPICXX = WhereIs('mpicxx')

objects = []
for source in sources:    
    obj = env.StaticObject(source,CPPPATH=['../include','../../elemental/include'],
                           CXX=MPICXX,CPPDEFINES=['RELEASE','BLAS_POST','LAPACK_POST','WITHOUT_PMRRR',
                                                  ('RESTRICT','')])
    objects.append(obj)

##############################################################################
# LIBRARY
##############################################################################
lib = env.StaticLibrary('clique',objects)

env.Install('../../../lib',lib)
