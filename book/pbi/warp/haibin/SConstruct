from rsfproj import *

###########################################################################
#
# Data
#
###########################################################################

data = {
    'pp': 'pz_221.sgy',
    'ps': '221_PS_PSTM_FullLine_STK_MSL_segy.sgy'
    }

import os
private = {'login':os.environ.get('BEG_LOGIN'),
           'password':os.environ.get('BEG_PASSWORD'),
           'server':os.environ.get('BEG_SERVER')}

for mode in ['pp','ps']:
    Fetch(data[mode],'haibin',private)
    Flow([mode,mode+'hhead',mode+'bhead'],data[mode],
         '''
         segyread tape=$SOURCE data=y
         hfile=${TARGETS[1]} bfile=${TARGETS[2]}
         ''',stdin=0)
    Result(mode,mode,'grey title=%s label1="Time (s)" ' % string.upper(mode))

Result('ppwin','pp','window max1=3 | grey title=PP label1="Time (s)" ')
Result('pswin','ps','window max1=6 | grey title=PS label1="Time (s)" ')

###########################################################################
End()
