from rsfproj import *
import math

Fetch('pilot_sergey.su','attr')
Flow('pilot','pilot_sergey.su',
     'segyread tfile=${TARGETS[1]} su=y suxdr=y read=data')
Plot('pilot','graph title="Pilot Trace" label1=Time unit1=s label2=Amplitude')

dt = 0.002

Flow('freq','pilot','iphase rect1=50 order=50 verb=y')
Plot('freq',
     '''
     scale dscale=%g |
     graph title="Local Frequency"
     label1=Time unit1=s label2=Frequency unit2=Hz
     ''' % (0.5/(math.pi*dt)))

Result('freq','pilot freq','OverUnderAniso')

End()
