from rsf.proj import *
import math

rawsegy=['L23535','L23536','L23537']

for name in rawsegy:
    Fetch(name+'.SGY',
          server='http://certmapper.cr.usgs.gov',
          top='nersl/NPRA/SEISMIC/1981/31_81',
          dir='DMUX')
    Flow([name,'t'+name,name+'.bin',name+'.asc'],
         name+'.SGY',
         'segyread tfile=${TARGETS[1]} bfile=${TARGETS[2]} hfile=${TARGETS[3]}')

Flow('mgline',rawsegy,'cat ${SOURCES[1:3]} axis=2')
Flow('tmgline',map(lambda x: 't'+x, rawsegy),'cat ${SOURCES[1:3]} axis=2') 
Result('mgline',
       '''
       grey pclip=80 title="Alaska Line 31-81" label2=''
       font=2 labelsz=10 titlesz=16 labelfat=2 titlefat=4
       ''')





End()
