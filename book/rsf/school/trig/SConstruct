from rsf.proj import *
import math

# generate a sine wave
Flow('sine',None,
    '''
    math output="sin(x1)" 
    d1=.01 n1=1256 o1=0
    label1=x unit1="radians"
    ''')
# plot sine 
Plot('sine','graph title="sin(x)"')
# take the derivative of the sine wave
Flow('dsine','sine','deriv order=6 scale=y')
Plot('dsine','graph title="dsine(x)/dx"')
# plot the sine wave with its derivative
Result('sine_dsine','sine dsine','SideBySideAniso')
Flow('cosine','sine',    '''
    math output="cos(x1)" 
    ''')
# plot cosine as a result
Result('cosine','graph title="cos(x)"')
# get cosine squared by multiplying the derivative of sine with the cosine function
Flow('cos2','dsine cosine',
    '''
    math A=${SOURCES[0]} B=${SOURCES[1]}
    output="A*B"
    ''')
# plot the cosine squared function
Result('cos2','graph title="cos\^2\_(x)" ')

# integrate cosine squared, scale by dx
Flow('int-cos2','cos2','causint | scale dscale=.01')
# plot the integral
Result('int-cos2','graph title="x/2+sin(2x)/4"')
End()
