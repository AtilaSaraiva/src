\input{pcsmacros}

\pgfdeclareimage[height=1.0in]{logo}{Fig/Madagascar}

\title[]{seismic imaging tutorial}
\subtitle{``exploding reflector'' modeling/migration}
\author[]{Paul Sava}
\institute{
Center for Wave Phenomena \\
Colorado School of Mines \\
psava@mines.edu
}
\date{}
\logo{}

\def\big#1{\begin{center} \LARGE \textbf{#1} \end{center}}
\def\cen#1{\begin{center}        \textbf{#1} \end{center}}

% ------------------------------------------------------------
\mode<beamer> { \cwpcover }

% ------------------------------------------------------------
\inputdir{sigsbee}
% ------------------------------------------------------------

% ------------------------------------------------------------
\begin{frame} \frametitle{acoustic wave propagation}

\[
\frac{1}{v^2} \ddot{\UU} = 
\rho \DIV{\lp \frac{1}{\rho} \GRAD{\UU} \rp} -f
\]

\sep

\begin{itemize}
   \item \textbf{modeling}: propagate waves forward
   \item \textbf{migration}: propagate waves backward 
\end{itemize}

\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{import packages}
\lstinputlisting[firstline=1,lastline=3]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{setup main parameters}
\lstinputlisting[firstline=6,lastline=13]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{convert to metric units}
\lstinputlisting[firstline=17,lastline=21]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{set-up axes labels}
\lstinputlisting[firstline=25,lastline=27]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{set-up plotting parameters}
\lstinputlisting[firstline=31,lastline=31]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{make the source coordinates}
\lstinputlisting[firstline=35,lastline=44]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{make the horizontal receiver array}
\lstinputlisting[firstline=48,lastline=52]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{make the vertical receiver array}
\lstinputlisting[firstline=55,lastline=59]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{plot the receiver arrays}
\lstinputlisting[firstline=61,lastline=73]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

\begin{frame} \plot{dens}{width=\textwidth}{} \end{frame}

% ------------------------------------------------------------
\begin{frame} \frametitle{group the receivers}
\lstinputlisting[firstline=76,lastline=82]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{read the velocity}
\lstinputlisting[firstline=86,lastline=88]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{format the velocity}
\lstinputlisting[firstline=90,lastline=101]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{smooth the velocity}
\lstinputlisting[firstline=105,lastline=107]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{plot the velocities}
\lstinputlisting[firstline=111,lastline=115]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

\begin{frame} \plot{vstr}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{vsmo}{width=\textwidth}{} \end{frame}

% ------------------------------------------------------------
\begin{frame} \frametitle{make the density}
\lstinputlisting[firstline=119,lastline=119]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{make the wavelet}
\lstinputlisting[firstline=124,lastline=132]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

\begin{frame} \plot{wav}{width=0.9\textwidth}{} \end{frame}

% ------------------------------------------------------------
\begin{frame} \frametitle{run FD modeling}
\lstinputlisting[firstline=136,lastline=144]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{plot the wavefield}
\lstinputlisting[firstline=148,lastline=153]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

\begin{frame} \plot{wfld-00}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-01}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-02}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-03}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-04}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-05}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-06}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-07}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-08}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-09}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-10}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-11}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-12}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-13}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-14}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-15}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-16}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-17}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-18}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-19}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-20}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-21}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-22}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-23}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wfld-24}{width=\textwidth}{} \end{frame}

% ------------------------------------------------------------
\begin{frame} \frametitle{remove the wavelet delay}
\lstinputlisting[firstline=157,lastline=163]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame} \frametitle{set-up the horizontal array data}
\lstinputlisting[firstline=166,lastline=180]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

\begin{frame} \plot{datH}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wigH}{width=\textwidth}{} \end{frame}

% ------------------------------------------------------------
\begin{frame} \frametitle{set-up the vertical array data}
\lstinputlisting[firstline=182,lastline=195]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

\begin{frame} \plot{datV}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{wigV}{width=\textwidth}{} \end{frame}

% ------------------------------------------------------------
\begin{frame} \frametitle{run FD migration}
\lstinputlisting[firstline=199,lastline=213]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

\begin{frame} \plot{imgH}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{imgV}{width=\textwidth}{} \end{frame}
\begin{frame} \plot{imgA}{width=\textwidth}{} \end{frame}

% ------------------------------------------------------------
\begin{frame} \frametitle{close}
\lstinputlisting[firstline=216,lastline=216]{sigsbee/SConstruct}
\end{frame}
\cwpnote{}

% ------------------------------------------------------------
\begin{frame}

  \big{\url{http://reproducibility.org}}
  
  \vfill

  \big{\texttt{\$RSFSRC/book/rsf/school}}

  \vfill
  
  \begin{center}
    \pgfuseimage{logo}
  \end{center}
  
\end{frame}
\cwpnote{}


% ------------------------------------------------------------
\begin{frame} \frametitle{assignment}

  \cen{modify the acquisition parameters \\
    to explore the seismic illumination \\
    at different locations in the subsurface}
  
\end{frame}
\cwpnote{}

