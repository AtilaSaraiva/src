from rsf.suproj import *

ref = (
    (0.09,(0.0,0.3),(0.6,0.3)),
    (0.15,(0.67,0.5),(2.0,0.5)),
    (0.4,(0.0,1.3),(0.93,1.3)), 
    (0.4,(1.0,1.5),(2.0,1.5)), 
    (0.8,(0.0,2.3),(1.3,2.3)), 
    (0.8,(1.37,2.5),(2.0,2.5)),
    (1.0,(0.8,0.9),(0.82,0.9)), 
    (2.0,(1.1,1.8),(1.12,1.8)),
    (2.4,(1.18,2.1),(1.2,2.1))
    )

refstr = ' '.join(map(lambda x: 'ref="%g:%s"' % (x[0],';'.join(map(lambda y: ','.join(map(str,y)),x[1:]))),ref))

Flow('data',None,
     '''
     susynlv nt=600 dt=0.004 nxm=100 dxm=0.02 v00=2.5 fpeak=18 %s |
     sushw key=cdp a=1 b=0 j=100 | sushw key=offset a=0 b=20 j=100
     ''' % refstr)

# plot input data
nbpi=72

Result('data','suxwigb label1="Time (s)" nbpi=%d label2="Trace Number" title="Input data" ' % nbpi)

End()
