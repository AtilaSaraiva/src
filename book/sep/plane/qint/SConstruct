from rsfproj import *

def cube(title):
    return '''
    byte gainpanel=all |
    grey3 frame1=60 frame2=60 frame3=25
    flat=n point1=0.85 point2=0.74
    title="%s"
    ''' % title

Flow('qdome',None,'qdome n1=200 d1=0.008')
Result('qdome',cube('Qdome Model'))

Flow('dip','qdome','dip rect1=5 rect2=5 rect3=5')

for case in range(2):
    dip = 'dip%d' % case
    
    Flow(dip,'dip','window n4=1 f4=%d' % case)
    Plot(dip,cube('XY'[case] + ' slope') + ' color=j')

Result('qslope','dip0 dip1','SideBySideIso')

Flow('mask','qdome','window n1=1 | noise rep=y type=n seed=1234 mean=0.5 | mask min=0.6')
Flow('qhole','qdome mask','headercut mask=${SOURCES[1]}') 

Plot('qhole',cube('60% Removed'))

End()
