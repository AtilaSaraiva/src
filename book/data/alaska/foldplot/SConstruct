from rsf.proj import *

# this fold plot assumes you created allshots.su using the su scons
# file in ../line31-81.  This will build trace headers.

# Program compilation
#####################

exe = Program('foldplot.c',CPPDEFINES='NO_BLAS')

segyread = '''
             segyread su=y endian=n tfile=${TARGETS[1]}
           '''

Flow(['rsfallshots','trsfallshots'],
      '../line31-81/allshots.su',
      segyread)


Flow('foldplot','trsfallshots %s' % exe[0],
    '''
      dd type=float |
      ./${SOURCES[1]} 
          o1=-5200 n1=96 d1=110 label1=offset
          o2=101 n2=636 d2=1 label2=cdp
          o3=0 n3=1 d3=10000 label3=iline
          
    ''')

Result('foldplot','foldplot',
     '''
     grey  title=foldplot
     ''')

End()
