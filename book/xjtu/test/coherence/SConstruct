from rsf.proj import *

Flow('data','dat3d_601x401x681.bin',
	'''
     	echo in=${SOURCES[0]} n1=601 n2=401 n3=681 data_format=native_float |
     	put d1=0.001 o1=0 label1=Depth unit1=s
     	 d2=0.02 o2=0 label2=xline unit2=km
     	 d3=0.02 o3=0 label3=iline unit3=km |
	sfwindow j1=3 j2=3 j3=3 
	''')
Plot('data',
	'''
	byte gainpanel=all | 
	sfgrey3 frame1=80 frame2=80 frame3=85 title=Data
	''')

Flow('coh3d', 'data','sfcoherence mode=c3 ntw=10 nxw=1 nyw=1')
Plot('coh3d',
	'''
	byte gainpanel=all | 
	sfgrey3 frame1=80 frame2=80 frame3=85 title=sfcoherence
	''')

Flow('mycoh3d', 'data','sfcohn mode=c3')
Plot('mycoh3d',
	'''
	byte gainpanel=all | 
	sfgrey3 frame1=80 frame2=80 frame3=85 title=sfcohn
	''')


Flow('mygpucoh3d', 'data','sfgpucohn mode=c3')
Plot('mygpucoh3d',
	'''
	byte gainpanel=all | 
	sfgrey3 frame1=80 frame2=80 frame3=85 title=sfgpucohn
	''')

Result('all','data coh3d mycoh3d mygpucoh3d','TwoColumns')

End()
