from rsfproj import *

# Downlod data and velocity model
Fetch(['marmrefl.hh','marmvel.hh'],'marm')

# Extract and plot one shot gather
Result('shot','marmrefl.hh',
       '''
       dd form=native |
       window n3=1 min3=6000 |
       grey title='Marmousi Shot Gather at 6000 m'
       label1=Time unit1=s label2=Offset unit2=m
       ''')

options = '''
label1=Depth unit1=m label2=Lateral unit2=m
screenht=3.75 screenwd=11.5 titlesz=5 labelsz=4
'''

# Plot velocity model
Result('model','marmvel.hh',
       '''
       grey title="Marmousi Model" allpos=y
       bias=1000 pclip=100 color=j scalebar=y
       barreverse=y barlabel=Velocity barunit=m/s
       ''' + options)

# Compute and plot reflectivity
Result('refl','marmvel.hh',
       '''
       dd form=native |
       depth2time velocity=$SOURCE nt=625 dt=0.004 |
       ai2refl |
       ricker1 |
       time2depth velocity=$SOURCE |
       agc rect1=150 |
       grey title="Marmousi Reflectivity"
       ''' + options)

# Collect default targets
End()
