from rsfproj import *
import zomig

for data in ('vxz','stk'):
    Fetch('bei'+data+'.rsf','masha')
    Flow(data,'bei'+data,'dd form=native')


Result('stk',
       '''
       grey title=Stack
       label1=Time unit1=s label2=Lateral unit2=km
       ''')

par = {
    'nx':250,'ox':0,'dx':0.0335,
    'nt':1000,'ot':0,'dt':0.004,
    'nz':182,'oz':0,'dz':0.0332,
    #
    'nw':501, 'ow':0, 'dw':0.25,'jw':1,
    #
    'verb':'y','eps':0.01,'nrmax':5
    }

Flow('slo','vxz',
     '''
     transp plane=12 |
     transp plane=23 |
     math "output=0.5/input" |
     put label1=x label2=y label3=z
     ''')

zomig.wflds ('dat','stk',par)
zomig.image('img','slo','dat',par)

Result('img',
       '''
       window |
       transp |
       grey title="Post-Stack Depth Migration"
       label1=Depth unit1=km label2=Lateral unit2=km
       ''')

End()
