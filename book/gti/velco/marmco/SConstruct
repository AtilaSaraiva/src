from rsfproj import *
import velcon

Fetch('marmrefl.hh','marm')

Flow('marm','marmrefl.hh',
     'dd form=native | reverse which=2 | put d2=12.5 o2=100')

Flow('cmp','marm','shot2cmp positive=n')

Flow('mrm','cmp','window j3=2 | transp plane=24')

velcon.velcon('mrm',
              nv=120,      # continuation steps
              v0=1400,     # initial velocity
              dv=25,       # velocity step
              nx=288,     # lateral dimension
              padt=1024,   # time padding
              padt2=4096,  # extra time padding
              padx=513,   # lateral padding
              dx=25,  # lateral sampling
              v1=2000,     # other velocity
              #vx0=2000,    # semblance muting
              #vslope=1200, # semblance muting
              units='m',   # lateral units
              rect1=50,
              rect2=50)

End()
