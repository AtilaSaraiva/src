import os, sys

Import('env root bindir libdir pkgdir docdir spcdir mandir system user')

txtdir = os.path.join(docdir,'txt')
mn1dir = os.path.join(mandir,'man1')
python = WhereIs('python')

for src in Split('doc top kill'):
    env.Install(bindir,'sf'+src)
env.Install(bindir,'pscons')

htm = os.path.join(docdir,'index.html')
txt = os.path.join(txtdir,'INDEX.txt')
spc = os.path.join(spcdir,'extend.spec')
man = os.path.join(mn1dir,'index.man')

repos = os.environ.get('RSF_REPOSITORY',os.getcwd())
env.Append(ENV={'LD_LIBRARY_PATH':os.environ.get('LD_LIBRARY_PATH'),
                'PYTHONPATH':os.environ.get('PYTHONPATH')})
env.Command(htm,None,
            '%s framework/sfdoc -w %s -r %s' % (python,docdir,repos))
env.Command(txt,None,'%s framework/sfdoc -t %s' % (python,txtdir))
env.Command(spc,None,'%s framework/sfdoc -s %s' % (python,spcdir))
env.Command(man,None,'%s framework/sfdoc -g %s' % (python,mn1dir))

# RSF Python package
SConscript(os.path.join('py_pkg','SConstruct'), 
           exports='env root bindir pkgdir system user')
